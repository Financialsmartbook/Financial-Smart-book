<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4.4. Проценты и платежи по кредиту</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"> 
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <style>
        :root {
            --primary: #6366f1;
            --secondary: #4f46e5;
            --accent: #818cf8;
            --background: #f8fafc;
            --text-dark: #1e293b;
            --text-light: #f1f5f9;
            --glass: rgba(255, 255, 255, 0.9);
            --gradient: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --success: #10b981;
            --error: #ef4444;
            --warning: #f59e0b;
            --border-radius: 1.5rem;
            --card-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        [data-theme="dark"] {
            --primary: #818cf8;
            --secondary: #6366f1;
            --accent: #a5b4fc;
            --background: #0f172a;
            --text-dark: #f1f5f9;
            --text-light: #1e293b;
            --glass: rgba(30, 41, 59, 0.8);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --card-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.7;
            background: var(--background);
            color: var(--text-dark);
            overflow-x: hidden;
            transition: var(--transition);
            scroll-behavior: smooth;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) var(--background);
        }

        body::-webkit-scrollbar {
            width: 8px;
        }
        
        body::-webkit-scrollbar-track {
            background: var(--background);
        }
        
        body::-webkit-scrollbar-thumb {
            background-color: var(--primary);
            border-radius: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Header & Navigation */
        .header {
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 1rem 0;
            backdrop-filter: blur(10px);
            background: var(--glass);
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-link {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
        }

        .nav-link:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 0;
            background: var(--primary);
            transition: var(--transition);
        }

        .nav-link:hover:after {
            width: 100%;
        }

        .nav-link:hover {
            color: var(--primary);
        }

        .theme-toggle {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-dark);
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            color: var(--primary);
            transform: rotate(30deg);
        }

        .mobile-toggle {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-dark);
            font-size: 1.5rem;
        }

        /* Hero Section */
        .hero-section {
            position: relative;
            margin: 2rem 0 4rem;
            padding: 4rem 2rem;
            background: var(--gradient);
            border-radius: var(--border-radius);
            color: white;
            overflow: hidden;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--card-shadow);
        }

        .hero-content {
            max-width: 600px;
            z-index: 2;
        }

        .hero-title {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .hero-description {
            font-size: 1.2rem;
            opacity: 0.95;
            margin-bottom: 2rem;
        }

        .hero-image {
            width: 400px;
            filter: drop-shadow(20px 20px 30px rgba(0, 0, 0, 0.2));
            transition: transform 0.4s ease;
        }

        .hero-image:hover {
            transform: translateY(-10px) scale(1.02);
        }

        .hero-cta {
            display: inline-flex;
            align-items: center;
            gap: 1rem;
        }

        .cta-primary {
            background: white;
            color: var(--primary);
            padding: 0.8rem 1.8rem;
            border-radius: 5rem;
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .cta-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .cta-secondary {
            color: white;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
            transition: var(--transition);
        }

        .cta-secondary i {
            transition: var(--transition);
        }

        .cta-secondary:hover i {
            transform: translateX(4px);
        }

        .hero-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            pointer-events: none;
        }

        /* Sections */
        .section-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.12);
        }

        .section-title {
            color: var(--text-dark);
            margin-bottom: 1.5rem;
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -0.5rem;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--primary);
            transition: var(--transition);
        }

        .section-card:hover .section-title::after {
            width: 100%;
        }

        /* Tabs */
        .tabs {
            margin: 2rem 0;
        }

        .tab-nav {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .tab-button {
            padding: 0.8rem 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 5rem;
            color: var(--text-dark);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .tab-button.active {
            background: var(--primary);
            color: white;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Accordion */
        .accordion {
            background: var(--glass);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .accordion-item {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .accordion-item:last-child {
            border-bottom: none;
        }

        .accordion-header {
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(99, 102, 241, 0.1);
            transition: var(--transition);
            font-weight: 500;
        }

        .accordion-header:hover {
            background: rgba(99, 102, 241, 0.2);
        }

        .accordion-icon {
            transition: var(--transition);
        }

        .accordion-header.active .accordion-icon {
            transform: rotate(180deg);
        }

        .accordion-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: var(--transition);
        }

        .accordion-content.active {
            padding: 1.5rem;
            max-height: 1000px;
        }

        /* Formula box */
        .formula-box {
            background: rgba(99, 102, 241, 0.05);
            border: 1px solid rgba(99, 102, 241, 0.1);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin: 1.5rem 0;
            text-align: center;
        }
        
        .formula {
            font-family: 'Times New Roman', serif;
            font-size: 1.25rem;
            padding: 0.5rem 0;
        }
        
        .formula-caption {
            font-size: 0.875rem;
            color: var(--text-dark);
            margin-top: 0.5rem;
        }

        /* Example box */
        .example-box {
            background: rgba(59, 130, 246, 0.05);
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin: 1.5rem 0;
            position: relative;
        }
        
        .example-box::before {
            content: 'Пример';
            position: absolute;
            top: -0.75rem;
            left: 1rem;
            background: var(--background);
            padding: 0 0.5rem;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--primary);
        }

        /* Forms */
        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        input[type="number"],
        input[type="text"],
        select {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 0.75rem;
            font-family: inherit;
            font-size: 1rem;
            transition: var(--transition);
            background: rgba(255, 255, 255, 0.9);
        }

        input[type="number"]:focus,
        input[type="text"]:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }

        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 0.5rem;
            color: var(--primary);
            cursor: pointer;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background: var(--glass);
            backdrop-filter: blur(10px);
            color: var(--text-dark);
            text-align: center;
            border-radius: 0.5rem;
            padding: 0.8rem;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: var(--transition);
            box-shadow: var(--shadow);
            font-size: 0.9rem;
            font-weight: normal;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
            position: relative;
            overflow: hidden;
        }

        button::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: -100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: var(--transition);
        }

        button:hover::after {
            left: 100%;
        }

        button:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(99, 102, 241, 0.3);
        }

        button:active {
            transform: translateY(0);
        }

        /* Comparison table */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            box-shadow: var(--shadow);
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .comparison-table th, 
        .comparison-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .comparison-table th {
            background-color: rgba(99, 102, 241, 0.05);
            font-weight: 600;
        }

        .comparison-table tr:last-child td {
            border-bottom: none;
        }

        .comparison-table tr:nth-child(even) {
            background-color: rgba(99, 102, 241, 0.02);
        }

        /* Calculator */
        .calculator {
            margin-top: 2rem;
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
        }

        .range-slider {
            width: 100%;
            -webkit-appearance: none;
            appearance: none;
            height: 8px;
            border-radius: 5px;
            background: #e2e8f0;
            outline: none;
            margin: 1rem 0;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            transition: var(--transition);
        }

        .range-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        .range-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            font-size: 0.8rem;
            color: #64748b;
        }

        .range-value {
            font-weight: 600;
            color: var(--text-dark);
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
        }

        /* Results */
        .result {
            margin-top: 1rem;
            padding: 1.5rem;
            border-radius: 0.75rem;
            font-weight: 500;
            animation: fadeIn 0.5s ease;
            background: rgba(99, 102, 241, 0.05);
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.75rem;
        }

        .result-item:last-child {
            margin-bottom: 0;
            padding-top: 0.75rem;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }

        .result-label {
            color: var(--text-dark);
        }

        .result-value {
            font-weight: 600;
            color: var(--primary);
        }

        /* Payment chart */
        .payment-chart {
            width: 100%;
            height: 300px;
            margin: 1.5rem 0;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: var(--border-radius);
            padding: 1rem;
        }

        /* Tips Section */
        .tips-list {
            list-style: none;
            padding: 0;
        }

        .tips-item {
            padding: 1.2rem;
            margin-bottom: 1rem;
            background: rgba(248, 249, 255, 0.8);
            border-radius: 0.75rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            border: 1px solid rgba(99, 102, 241, 0.1);
            transition: var(--transition);
        }

        .tips-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border-color: var(--accent);
        }

        .tips-item i {
            color: var(--primary);
            font-size: 1.2rem;
            margin-top: 3px;
        }

        /* Interactive grid */
        .interactive-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        /* Back to top button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            opacity: 0;
            visibility: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 100;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: var(--secondary);
            transform: translateY(-5px);
        }

        /* Mobile Adaptation */
        @media (max-width: 992px) {
            .interactive-grid {
                grid-template-columns: 1fr;
            }
            
            .hero-section {
                flex-direction: column;
                text-align: center;
                padding: 3rem 1.5rem;
            }
            
            .hero-content {
                margin-bottom: 2rem;
            }
            
            .hero-image {
                width: 300px;
            }
            
            .hero-title {
                font-size: 2rem;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1.5rem;
            }
            
            .hero-section {
                margin: 1.5rem 0 3rem;
            }
            
            .section-card {
                padding: 1.5rem;
            }
            
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                flex-direction: column;
                background: var(--glass);
                padding: 1rem;
                gap: 1rem;
                text-align: center;
                box-shadow: var(--shadow);
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .mobile-toggle {
                display: block;
            }
            
            .hero-cta {
                flex-direction: column;
                gap: 1rem;
            }
            
            .tabs-nav {
                flex-wrap: wrap;
            }
            
            .comparison-table {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }
        }

        @media (max-width: 576px) {
            .hero-title {
                font-size: 1.8rem;
            }
            
            .hero-description {
                font-size: 1rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .hero-image {
                width: 250px;
            }
            
            .comparison-table {
                font-size: 0.9rem;
            }
            
            .comparison-table th, 
            .comparison-table td {
                padding: 0.75rem;
            }
            
            .tab-nav {
                flex-direction: column;
            }
            
            .tab-button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Header & Navigation -->
    <header class="header">
        <div class="nav-container">
            <a href="#" class="logo">
                <i class="fas fa-calculator"></i>
                ФинГрамотность
            </a>
            <nav>
                <button class="mobile-toggle" id="mobileToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <ul class="nav-links" id="navLinks">
                    <li><a href="#basics" class="nav-link">Основы процентов</a></li>
                    <li><a href="#payment-types" class="nav-link">Виды платежей</a></li>
                    <li><a href="#formulas" class="nav-link">Формулы расчета</a></li>
                    <li><a href="#calculator" class="nav-link">Калькулятор</a></li>
                    <li><a href="#tips" class="nav-link">Советы</a></li>
                </ul>
            </nav>
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </header>

    <div class="container">
        <!-- Hero Section -->
        <section class="hero-section" data-aos="fade-up">
            <div class="hero-content">
                <h1 class="hero-title">4.4. Проценты и платежи по кредиту</h1>
                <p class="hero-description">Узнайте, как начисляются проценты по кредиту, разберитесь в типах платежей и научитесь рассчитывать свою кредитную нагрузку.</p>
                <div class="hero-cta">
                    <a href="#calculator" class="cta-primary">Рассчитать кредит</a>
                    <a href="#basics" class="cta-secondary">Узнать больше <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
            <img src="credit.png" alt="Проценты по кредиту" class="hero-image">
            <div class="hero-particles" id="particles"></div>
        </section>

        <!-- Как начисляются проценты? -->
        <section class="section-card" data-aos="fade-up" id="basics">
            <h2 class="section-title">Как начисляются проценты?</h2>
            <p>
                Одной из важнейших обязательных характеристик кредита является процент, который вы платите за пользование заемными средствами. 
                Процентная ставка по кредиту относится к существенным условиям кредитного договора. Ее размер и порядок определения, 
                в том числе в зависимости от изменения предусмотренных в кредитном договоре условий, как правило, устанавливается кредитором 
                по соглашению с заемщиком.
            </p>
            <p>
                Процент по кредиту устанавливается как правило в форме простой годовой процентной ставки, которая фиксируется в кредитном договоре. 
                Это означает, что процент на сумму взятого кредита будет начисляться за точное количество дней пользования средствами в течение года. 
                Для расчета процентов по кредиту по простой процентной ставке берется фактическое число дней, составляющих срок, на который взяты 
                кредитные средства. День выдачи кредита и день его возврата при этом считаются за один день.
            </p>
            <p>
                В российской банковской практике количество дней в году считается по факту – 365 или 366, в зависимости от того, является ли данный год 
                обыкновенным или високосным. В зарубежных банках возможен иной порядок расчета: так, в некоторых странах принято высчитывать процент 
                с использованием приблизительных сроков. В этом случае считается, что в году 360 дней, а в каждом месяце – 30.
            </p>

            <div class="formula-box">
                <div class="formula">I = P × r × t</div>
                <div class="formula-caption">
                    где: I — сумма процентов, P — основная сумма кредита, r — процентная ставка (в десятичной форме), t — срок кредита в годах
                </div>
            </div>

            <div class="example-box">
                <p>Если вы берете кредит в размере 100 000 рублей под 12% годовых на 3 года, то общая сумма процентов за весь срок составит:</p>
                <p>I = 100 000 × 0,12 × 3 = 36 000 рублей</p>
                <p>Эта формула применима для расчета простых процентов, когда проценты начисляются только на первоначальную сумму кредита.</p>
            </div>
        </section>

        <!-- Аннуитетный и дифференцированный платеж -->
        <section class="section-card" data-aos="fade-up" id="payment-types">
            <h2 class="section-title">Аннуитетный и дифференцированный платеж</h2>
            <p>
                В банковской практике существуют два основных способа погашения кредита: аннуитетный (равными платежами) и дифференцированный (уменьшающимися платежами). 
                Каждый из них имеет свои особенности, преимущества и недостатки.
            </p>
            
            <div class="accordion">
                <div class="accordion-item">
                    <div class="accordion-header">
                        <span>Аннуитетный платеж</span>
                        <i class="fas fa-chevron-down accordion-icon"></i>
                    </div>
                    <div class="accordion-content">
                        <p>
                            При аннуитетном платеже задолженность по кредиту ежемесячно погашается равными фиксированными платежами на протяжении всего срока кредита. 
                            В первую очередь уплачиваются проценты: каждый месяц они считаются от оставшегося долга по кредиту. Оставшаяся после уплаты процентов 
                            часть фиксированного платежа направляется на погашение основного долга.
                        </p>
                        <p>
                            При этом чем дольше срок кредитования, тем меньше будет обязательный платеж, но тем больше в итоге переплата. При длительном сроке 
                            кредитования первое время большая часть из поступающего платежа будет идти именно на погашение процентов, а основной долг будет 
                            уменьшаться медленно.
                        </p>

                        <h4>Преимущества аннуитетного платежа:</h4>
                        <ul>
                            <li>Удобство планирования бюджета благодаря одинаковым ежемесячным платежам</li>
                            <li>Меньшая финансовая нагрузка в начале срока кредита</li>
                            <li>Возможность взять кредит на большую сумму (по сравнению с дифференцированным) из-за равномерного распределения платежей</li>
                        </ul>

                        <h4>Недостатки аннуитетного платежа:</h4>
                        <ul>
                            <li>Большая общая переплата по кредиту</li>
                            <li>Медленное погашение основного долга в начале срока</li>
                            <li>При досрочном погашении в первой половине срока кредита — существенная переплата по процентам</li>
                        </ul>
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header">
                        <span>Дифференцированный платеж</span>
                        <i class="fas fa-chevron-down accordion-icon"></i>
                    </div>
                    <div class="accordion-content">
                        <p>
                            При дифференцированном платеже сумма основного долга делится на равные части по количеству месяцев кредитования. Таким образом, 
                            ежемесячно в счет погашения основного долга вносится одинаковая фиксированная сумма. Проценты же начисляются на остаток задолженности. 
                            Поскольку остаток долга ежемесячно уменьшается, то и проценты каждый месяц начисляются в меньшем размере.
                        </p>
                        <p>
                            В начале срока кредитования размер платежа будет максимальным, что создает большую нагрузку на бюджет заемщика. Однако с каждым месяцем 
                            платеж становится меньше, и к концу срока кредитования размер платежа значительно снижается.
                        </p>

                        <h4>Преимущества дифференцированного платежа:</h4>
                        <ul>
                            <li>Меньшая общая переплата по кредиту</li>
                            <li>Быстрое погашение основного долга</li>
                            <li>Снижение финансовой нагрузки со временем</li>
                            <li>Экономия на процентах при досрочном погашении</li>
                        </ul>

                        <h4>Недостатки дифференцированного платежа:</h4>
                        <ul>
                            <li>Высокая финансовая нагрузка в начале срока кредита</li>
                            <li>Необходимость планирования больших выплат в первые месяцы</li>
                            <li>Сложности при получении кредита из-за высоких требований к платежеспособности заемщика</li>
                        </ul>
                    </div>
                </div>
            </div>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Характеристика</th>
                        <th>Аннуитетный платеж</th>
                        <th>Дифференцированный платеж</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Размер ежемесячного платежа</td>
                        <td>Одинаковый на протяжении всего срока</td>
                        <td>Уменьшается к концу срока</td>
                    </tr>
                    <tr>
                        <td>Финансовая нагрузка в начале срока</td>
                        <td>Ниже</td>
                        <td>Выше</td>
                    </tr>
                    <tr>
                        <td>Общая переплата по кредиту</td>
                        <td>Больше</td>
                        <td>Меньше</td>
                    </tr>
                    <tr>
                        <td>Скорость погашения основного долга</td>
                        <td>Медленнее (особенно вначале)</td>
                        <td>Быстрее (равномерно весь срок)</td>
                    </tr>
                    <tr>
                        <td>Удобство планирования бюджета</td>
                        <td>Удобнее (платеж известен заранее)</td>
                        <td>Сложнее (платеж меняется каждый месяц)</td>
                    </tr>
                    <tr>
                        <td>Эффективность досрочного погашения</td>
                        <td>Ниже (особенно в начале срока)</td>
                        <td>Выше</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Формулы расчета платежей -->
        <section class="section-card" data-aos="fade-up" id="formulas">
            <h2 class="section-title">Формулы расчета платежей</h2>
            <p>
                Для расчета платежей по кредиту используются различные формулы в зависимости от типа платежа. Ниже приведены формулы для расчета аннуитетных и дифференцированных платежей.
            </p>

            <h3>Аннуитетный платеж</h3>
            <div class="formula-box">
                <div class="formula">A = K × P</div>
                <div class="formula">K = i × (1 + i)^n / ((1 + i)^n - 1)</div>
                <div class="formula-caption">
                    где: A — ежемесячный аннуитетный платеж, P — сумма кредита, i — месячная процентная ставка (годовая ставка / 12 / 100), 
                    n — количество месяцев, K — коэффициент аннуитета
                </div>
            </div>

            <h3>Дифференцированный платеж</h3>
            <div class="formula-box">
                <div class="formula">D = P/n + P × i × (1 - (m-1)/n)</div>
                <div class="formula-caption">
                    где: D — ежемесячный дифференцированный платеж, P — сумма кредита, i — месячная процентная ставка, 
                    n — количество месяцев, m — номер месяца, за который рассчитывается платеж
                </div>
            </div>

            <div class="example-box">
                <p><strong>Пример расчета:</strong> Кредит 300 000 рублей на 3 года (36 месяцев) под 12% годовых.</p>
                
                <p><strong>Аннуитетный платеж:</strong></p>
                <p>i = 12% / 12 / 100 = 0,01</p>
                <p>K = 0,01 × (1 + 0,01)^36 / ((1 + 0,01)^36 - 1) = 0,03321</p>
                <p>A = 0,03321 × 300 000 = 9 963 рубля</p>
                <p>Общая сумма выплат: 9 963 × 36 = 358 668 рублей</p>
                <p>Переплата: 358 668 - 300 000 = 58 668 рублей</p>
                
                <p><strong>Дифференцированный платеж:</strong></p>
                <p>Ежемесячное погашение основного долга: 300 000 / 36 = 8 333 рубля</p>
                <p>Первый месяц: 8 333 + 300 000 × 0,01 = 11 333 рубля</p>
                <p>Последний месяц: 8 333 + 8 333 × 0,01 = 8 417 рублей</p>
                <p>Общая сумма выплат: около 355 500 рублей</p>
                <p>Переплата: около 55 500 рублей</p>
            </div>
        </section>

        <!-- Калькулятор платежей -->
        <section class="section-card" data-aos="fade-up" id="calculator">
            <h2 class="section-title">Калькулятор платежей по кредиту</h2>
            <p>
                Используйте наш калькулятор, чтобы рассчитать платежи по кредиту и сравнить аннуитетную и дифференцированную схемы погашения.
            </p>

            <div class="tab-nav">
                <button class="tab-button active" data-tab="calculator-tab">Калькулятор</button>
                <button class="tab-button" data-tab="comparison-tab">Сравнение платежей</button>
            </div>

            <div class="tab-content active" id="calculator-tab">
                <div class="calculator">
                    <div class="form-group">
                        <label for="loan-amount">Сумма кредита</label>
                        <div class="range-value" id="amount-value">300 000 ₽</div>
                        <input type="range" id="loan-amount" class="range-slider" min="10000" max="10000000" step="10000" value="300000">
                        <div class="range-labels">
                            <span>10 тыс.</span>
                            <span>10 млн.</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="loan-term">Срок кредита (лет)</label>
                        <div class="range-value" id="term-value">3 года</div>
                        <input type="range" id="loan-term" class="range-slider" min="1" max="30" step="1" value="3">
                        <div class="range-labels">
                            <span>1 год</span>
                            <span>30 лет</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="interest-rate">Процентная ставка (%)</label>
                        <input type="number" id="interest-rate" min="1" max="30" step="0.1" value="12">
                    </div>
                    
                    <div class="form-group">
                        <label>Тип платежа</label>
                        <div style="display: flex; gap: 1rem;">
                            <label style="display: inline-flex; align-items: center; gap: 0.5rem;">
                                <input type="radio" name="payment-type" value="annuity" checked>
                                Аннуитетный
                            </label>
                            <label style="display: inline-flex; align-items: center; gap: 0.5rem;">
                                <input type="radio" name="payment-type" value="differentiated">
                                Дифференцированный
                            </label>
                        </div>
                    </div>
                    
                    <button id="calculate-btn">
                        <i class="fas fa-calculator"></i> Рассчитать
                    </button>
                    
                    <div class="result" id="result">
                        <div class="result-item">
                            <span class="result-label">Ежемесячный платеж:</span>
                            <span class="result-value" id="monthly-payment">9 963 ₽</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Общая сумма выплат:</span>
                            <span class="result-value" id="total-payment">358 668 ₽</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Переплата по кредиту:</span>
                            <span class="result-value" id="overpayment">58 668 ₽</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-content" id="comparison-tab">
                <div class="interactive-grid">
                    <div>
                        <h3>Сравнение платежей</h3>
                        <p>График показывает, как меняются ежемесячные платежи при аннуитетной и дифференцированной схемах погашения кредита.</p>
                        <div class="payment-chart" id="payment-chart">
                            <!-- График будет отрисован с помощью JavaScript -->
                        </div>
                    </div>
                    <div>
                        <h3>Сравнение переплаты</h3>
                        <p>Таблица сравнения аннуитетных и дифференцированных платежей для кредита в 300 000 ₽ на 3 года под 12% годовых.</p>
                        <table class="comparison-table" id="comparison-table">
                            <thead>
                                <tr>
                                    <th>Параметр</th>
                                    <th>Аннуитетный</th>
                                    <th>Дифференцированный</th>
                                    <th>Разница</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Первый платеж</td>
                                    <td>9 963 ₽</td>
                                    <td>11 333 ₽</td>
                                    <td>-1 370 ₽</td>
                                </tr>
                                <tr>
                                    <td>Последний платеж</td>
                                    <td>9 963 ₽</td>
                                    <td>8 417 ₽</td>
                                    <td>+1 546 ₽</td>
                                </tr>
                                <tr>
                                    <td>Общая сумма выплат</td>
                                    <td>358 668 ₽</td>
                                    <td>355 500 ₽</td>
                                    <td>+3 168 ₽</td>
                                </tr>
                                <tr>
                                    <td>Переплата</td>
                                    <td>58 668 ₽</td>
                                    <td>55 500 ₽</td>
                                    <td>+3 168 ₽</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Советы по выбору типа платежа -->
        <section class="section-card" data-aos="fade-up" id="tips">
            <h2 class="section-title">Советы по выбору типа платежа</h2>
            <p>
                Выбор типа платежа зависит от вашей финансовой ситуации, целей и предпочтений. Вот несколько рекомендаций, которые помогут вам сделать правильный выбор.
            </p>

            <ul class="tips-list">
                <li class="tips-item">
                    <i class="fas fa-money-bill-wave"></i>
                    <div>
                        <strong>Оцените свои текущие финансовые возможности</strong>
                        <p>Если ваш бюджет ограничен, аннуитетный платеж может быть более подходящим, так как вначале он меньше дифференцированного. Если же вы можете себе позволить более высокие платежи в начале срока, дифференцированный платеж поможет сэкономить на общей переплате.</p>
                    </div>
                </li>
                <li class="tips-item">
                    <i class="fas fa-chart-line"></i>
                    <div>
                        <strong>Учитывайте перспективы роста дохода</strong>
                        <p>Если вы ожидаете рост своих доходов в будущем, дифференцированный платеж может быть выгоднее. Вы справитесь с высокими платежами вначале, а затем платежи будут снижаться, освобождая средства для других целей.</p>
                    </div>
                </li>
                <li class="tips-item">
                    <i class="fas fa-clock"></i>
                    <div>
                        <strong>Учитывайте срок кредита</strong>
                        <p>Чем дольше срок кредита, тем больше преимущество дифференцированного платежа с точки зрения экономии на процентах. При коротких сроках (1-3 года) разница в переплате не так существенна.</p>
                    </div>
                </li>
                <li class="tips-item">
                    <i class="fas fa-piggy-bank"></i>
                    <div>
                        <strong>Планируете досрочное погашение?</strong>
                        <p>Если вы планируете погасить кредит досрочно, дифференцированный платеж выгоднее. При аннуитетном платеже большая часть процентов уплачивается в начале срока кредита.</p>
                    </div>
                </li>
                <li class="tips-item">
                    <i class="fas fa-search-dollar"></i>
                    <div>
                        <strong>Сравните предложения разных банков</strong>
                        <p>Некоторые банки предлагают только аннуитетную схему погашения. Если дифференцированный платеж для вас предпочтительнее, поищите банки, которые предоставляют такую возможность.</p>
                    </div>
                </li>
            </ul>
        </section>
    </div>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script>
        // Инициализация AOS (анимация при прокрутке)
        document.addEventListener('DOMContentLoaded', function() {
            AOS.init({
                duration: 800,
                easing: 'ease-in-out',
                once: true
            });
            
            // Создание частиц для фона секции Hero
            createParticles();
            
            // Обработчики событий
            setupEventListeners();
        });
        
        // Создание плавающих частиц для Hero секции
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particlesCount = 20;
            
            for (let i = 0; i < particlesCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                const size = Math.random() * 30 + 10;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.left = `${Math.random() * 100}%`;
                
                particle.style.opacity = Math.random() * 0.5;
                
                // Анимация плавания
                particle.style.animation = `float ${Math.random() * 10 + 5}s linear infinite`;
                particle.style.animationDelay = `${Math.random() * 5}s`;
                
                particlesContainer.appendChild(particle);
            }
        }
        
        // Настройка обработчиков событий
        function setupEventListeners() {
            // Переключение тем (светлая/темная)
            const themeToggle = document.getElementById('themeToggle');
            themeToggle.addEventListener('click', function() {
                document.body.hasAttribute('data-theme') 
                    ? document.body.removeAttribute('data-theme') 
                    : document.body.setAttribute('data-theme', 'dark');
                
                this.innerHTML = document.body.hasAttribute('data-theme') 
                    ? '<i class="fas fa-sun"></i>' 
                    : '<i class="fas fa-moon"></i>';
            });
            
            // Мобильная навигация
            const mobileToggle = document.getElementById('mobileToggle');
            const navLinks = document.getElementById('navLinks');
            
            mobileToggle.addEventListener('click', function() {
                navLinks.classList.toggle('active');
                this.innerHTML = navLinks.classList.contains('active')
                    ? '<i class="fas fa-times"></i>'
                    : '<i class="fas fa-bars"></i>';
            });
            
            // Навигация по ссылкам
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function() {
                    navLinks.classList.remove('active');
                    mobileToggle.innerHTML = '<i class="fas fa-bars"></i>';
                });
            });
            
            // Обработка аккордеона
            document.querySelectorAll('.accordion-header').forEach(header => {
                header.addEventListener('click', function() {
                    this.classList.toggle('active');
                    const content = this.nextElementSibling;
                    content.classList.toggle('active');
                    
                    // Изменение иконки
                    const icon = this.querySelector('.accordion-icon');
                    if (content.classList.contains('active')) {
                        icon.className = 'fas fa-chevron-up accordion-icon';
                    } else {
                        icon.className = 'fas fa-chevron-down accordion-icon';
                    }
                });
            });
            
            // Обработка табов
            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Деактивация всех табов
                    document.querySelectorAll('.tab-button').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // Активация выбранного таба
                    this.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // Калькулятор кредита
            const amountSlider = document.getElementById('loan-amount');
            const termSlider = document.getElementById('loan-term');
            const amountValue = document.getElementById('amount-value');
            const termValue = document.getElementById('term-value');
            const interestRateInput = document.getElementById('interest-rate');
            const calculateBtn = document.getElementById('calculate-btn');
            
            // Update slider values
            amountSlider.addEventListener('input', function() {
                amountValue.textContent = Number(this.value).toLocaleString('ru-RU') + ' ₽';
            });
            
            termSlider.addEventListener('input', function() {
                termValue.textContent = this.value + ' ' + getYearWord(this.value);
            });
            
            // Calculate loan
            calculateBtn.addEventListener('click', function() {
                const amount = Number(amountSlider.value);
                const term = Number(termSlider.value) * 12; // Convert to months
                const rate = Number(interestRateInput.value) / 100 / 12; // Monthly rate
                const isAnnuity = document.querySelector('input[name="payment-type"]:checked').value === 'annuity';
                
                let monthlyPayment, totalPayment, overpayment;
                
                if (isAnnuity) {
                    // Аннуитетный платеж: P = S * (i * (1 + i)^n) / ((1 + i)^n - 1)
                    monthlyPayment = amount * (rate * Math.pow(1 + rate, term)) / (Math.pow(1 + rate, term) - 1);
                    totalPayment = monthlyPayment * term;
                    overpayment = totalPayment - amount;
                    
                    document.getElementById('monthly-payment').textContent = Math.round(monthlyPayment).toLocaleString('ru-RU') + ' ₽';
                } else {
                    // Дифференцированный платеж: первый платеж
                    const principalPayment = amount / term;
                    const firstInterestPayment = amount * rate;
                    const firstMonthlyPayment = principalPayment + firstInterestPayment;
                    
                    // Последний платеж
                    const lastInterestPayment = principalPayment * rate;
                    const lastMonthlyPayment = principalPayment + lastInterestPayment;
                    
                    // Общая сумма
                    // Для дифференцированного платежа используем формулу арифметической прогрессии для суммы процентов
                    const interestSum = (amount * rate * term + principalPayment * rate * term) / 2;
                    totalPayment = amount + interestSum;
                    overpayment = totalPayment - amount;
                    
                    document.getElementById('monthly-payment').textContent = 
                        Math.round(firstMonthlyPayment).toLocaleString('ru-RU') + ' → ' + 
                        Math.round(lastMonthlyPayment).toLocaleString('ru-RU') + ' ₽';
                }
                
                document.getElementById('total-payment').textContent = Math.round(totalPayment).toLocaleString('ru-RU') + ' ₽';
                document.getElementById('overpayment').textContent = Math.round(overpayment).toLocaleString('ru-RU') + ' ₽';
                
                // Обновляем таблицу сравнения
                updateComparisonTable(amount, term, rate);
                
                // Рисуем график
                drawPaymentChart(amount, term, rate);
            });
            
            // Кнопка "вверх"
            const backToTopBtn = document.getElementById('backToTop');
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    backToTopBtn.classList.add('visible');
                } else {
                    backToTopBtn.classList.remove('visible');
                }
            });
            
            backToTopBtn.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }
        
        // Функция обновления таблицы сравнения
        function updateComparisonTable(amount, term, rate) {
            // Расчет для аннуитетного платежа
            const annuityPayment = amount * (rate * Math.pow(1 + rate, term)) / (Math.pow(1 + rate, term) - 1);
            const annuityTotal = annuityPayment * term;
            const annuityOverpayment = annuityTotal - amount;
            
            // Расчет для дифференцированного платежа
            const principalPayment = amount / term;
            const firstDiffPayment = principalPayment + (amount * rate);
            const lastDiffPayment = principalPayment + (principalPayment * rate);
            
            // Для дифференцированного платежа используем формулу арифметической прогрессии
            const interestSum = (amount * rate * term + principalPayment * rate * term) / 2;
            const diffTotal = amount + interestSum;
            const diffOverpayment = diffTotal - amount;
            
            // Обновляем таблицу
            const table = document.getElementById('comparison-table');
            if (table) {
                const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
                
                // Первый платеж
                rows[0].cells[1].textContent = Math.round(annuityPayment).toLocaleString('ru-RU') + ' ₽';
                rows[0].cells[2].textContent = Math.round(firstDiffPayment).toLocaleString('ru-RU') + ' ₽';
                rows[0].cells[3].textContent = (Math.round(annuityPayment - firstDiffPayment) > 0 ? '+' : '') + 
                                             Math.round(annuityPayment - firstDiffPayment).toLocaleString('ru-RU') + ' ₽';
                
                // Последний платеж
                rows[1].cells[1].textContent = Math.round(annuityPayment).toLocaleString('ru-RU') + ' ₽';
                rows[1].cells[2].textContent = Math.round(lastDiffPayment).toLocaleString('ru-RU') + ' ₽';
                rows[1].cells[3].textContent = (Math.round(annuityPayment - lastDiffPayment) > 0 ? '+' : '') + 
                                             Math.round(annuityPayment - lastDiffPayment).toLocaleString('ru-RU') + ' ₽';
                
                // Общая сумма выплат
                rows[2].cells[1].textContent = Math.round(annuityTotal).toLocaleString('ru-RU') + ' ₽';
                rows[2].cells[2].textContent = Math.round(diffTotal).toLocaleString('ru-RU') + ' ₽';
                rows[2].cells[3].textContent = (Math.round(annuityTotal - diffTotal) > 0 ? '+' : '') + 
                                             Math.round(annuityTotal - diffTotal).toLocaleString('ru-RU') + ' ₽';
                
                // Переплата
                rows[3].cells[1].textContent = Math.round(annuityOverpayment).toLocaleString('ru-RU') + ' ₽';
                rows[3].cells[2].textContent = Math.round(diffOverpayment).toLocaleString('ru-RU') + ' ₽';
                rows[3].cells[3].textContent = (Math.round(annuityOverpayment - diffOverpayment) > 0 ? '+' : '') + 
                                             Math.round(annuityOverpayment - diffOverpayment).toLocaleString('ru-RU') + ' ₽';
            }
        }
        
        // Функция для отрисовки графика платежей
        function drawPaymentChart(amount, term, rate) {
            const chart = document.getElementById('payment-chart');
            if (!chart) return;
            
            // Очищаем график
            chart.innerHTML = '';
            
            // Создаем SVG элемент
            const svgNS = "http://www.w3.org/2000/svg";
            const svg = document.createElementNS(svgNS, "svg");
            svg.setAttribute("width", "100%");
            svg.setAttribute("height", "100%");
            svg.setAttribute("viewBox", "0 0 600 300");
            chart.appendChild(svg);
            
            // Массивы для хранения данных о платежах
            const annuityPayments = [];
            const diffPayments = [];
            
            // Расчет платежей
            const principalPayment = amount / term;
            const annuityPayment = amount * (rate * Math.pow(1 + rate, term)) / (Math.pow(1 + rate, term) - 1);
            
            for (let i = 0; i < term; i++) {
                // Аннуитетный платеж (всегда одинаковый)
                annuityPayments.push(annuityPayment);
                
                // Дифференцированный платеж
                const remainingPrincipal = amount - (principalPayment * i);
                const interest = remainingPrincipal * rate;
                diffPayments.push(principalPayment + interest);
            }
            
            // Находим максимальное значение для масштабирования
            const maxPayment = Math.max(...diffPayments);
            
            // Рисуем оси
            const axisX = document.createElementNS(svgNS, "line");
            axisX.setAttribute("x1", "50");
            axisX.setAttribute("y1", "250");
            axisX.setAttribute("x2", "550");
            axisX.setAttribute("y2", "250");
            axisX.setAttribute("stroke", "#111827");
            axisX.setAttribute("stroke-width", "2");
            svg.appendChild(axisX);
            
            const axisY = document.createElementNS(svgNS, "line");
            axisY.setAttribute("x1", "50");
            axisY.setAttribute("y1", "50");
            axisY.setAttribute("x2", "50");
            axisY.setAttribute("y2", "250");
            axisY.setAttribute("stroke", "#111827");
            axisY.setAttribute("stroke-width", "2");
            svg.appendChild(axisY);
            
            // Рисуем линии для аннуитетных платежей
            const annuityPath = document.createElementNS(svgNS, "path");
            let annuityD = `M 50 ${250 - (annuityPayments[0] / maxPayment) * 200}`;
            const stepX = 500 / (term - 1);
            
            for (let i = 1; i < term; i++) {
                annuityD += ` L ${50 + i * stepX} ${250 - (annuityPayments[i] / maxPayment) * 200}`;
            }
            
            annuityPath.setAttribute("d", annuityD);
            annuityPath.setAttribute("stroke", "#6366f1");
            annuityPath.setAttribute("stroke-width", "2");
            annuityPath.setAttribute("fill", "none");
            svg.appendChild(annuityPath);
            
            // Рисуем линии для дифференцированных платежей
            const diffPath = document.createElementNS(svgNS, "path");
            let diffD = `M 50 ${250 - (diffPayments[0] / maxPayment) * 200}`;
            
            for (let i = 1; i < term; i++) {
                diffD += ` L ${50 + i * stepX} ${250 - (diffPayments[i] / maxPayment) * 200}`;
            }
            
            diffPath.setAttribute("d", diffD);
            diffPath.setAttribute("stroke", "#ef4444");
            diffPath.setAttribute("stroke-width", "2");
            diffPath.setAttribute("fill", "none");
            svg.appendChild(diffPath);
            
            // Добавляем легенду
            const annuityLegend = document.createElementNS(svgNS, "text");
            annuityLegend.setAttribute("x", "60");
            annuityLegend.setAttribute("y", "30");
            annuityLegend.setAttribute("fill", "#6366f1");
            annuityLegend.setAttribute("font-size", "12");
            annuityLegend.textContent = "Аннуитетный платеж";
            svg.appendChild(annuityLegend);
            
            const diffLegend = document.createElementNS(svgNS, "text");
            diffLegend.setAttribute("x", "200");
            diffLegend.setAttribute("y", "30");
            diffLegend.setAttribute("fill", "#ef4444");
            diffLegend.setAttribute("font-size", "12");
            diffLegend.textContent = "Дифференцированный платеж";
            svg.appendChild(diffLegend);
            
            // Добавляем подписи к осям
            const xLabel = document.createElementNS(svgNS, "text");
            xLabel.setAttribute("x", "300");
            xLabel.setAttribute("y", "280");
            xLabel.setAttribute("text-anchor", "middle");
            xLabel.setAttribute("fill", "#111827");
            xLabel.setAttribute("font-size", "12");
            xLabel.textContent = "Месяцы";
            svg.appendChild(xLabel);
            
            const yLabel = document.createElementNS(svgNS, "text");
            yLabel.setAttribute("x", "-150");
            yLabel.setAttribute("y", "20");
            yLabel.setAttribute("text-anchor", "middle");
            yLabel.setAttribute("fill", "#111827");
            yLabel.setAttribute("font-size", "12");
            yLabel.setAttribute("transform", "rotate(-90)");
            yLabel.textContent = "Размер платежа (₽)";
            svg.appendChild(yLabel);
            
            // Добавляем значения на оси Y
            const yMax = document.createElementNS(svgNS, "text");
            yMax.setAttribute("x", "45");
            yMax.setAttribute("y", "60");
            yMax.setAttribute("text-anchor", "end");
            yMax.setAttribute("fill", "#111827");
            yMax.setAttribute("font-size", "10");
            yMax.textContent = Math.round(maxPayment).toLocaleString('ru-RU');
            svg.appendChild(yMax);
            
            const yMid = document.createElementNS(svgNS, "text");
            yMid.setAttribute("x", "45");
            yMid.setAttribute("y", "150");
            yMid.setAttribute("text-anchor", "end");
            yMid.setAttribute("fill", "#111827");
            yMid.setAttribute("font-size", "10");
            yMid.textContent = Math.round(maxPayment / 2).toLocaleString('ru-RU');
            svg.appendChild(yMid);
            
            const yMin = document.createElementNS(svgNS, "text");
            yMin.setAttribute("x", "45");
            yMin.setAttribute("y", "250");
            yMin.setAttribute("text-anchor", "end");
            yMin.setAttribute("fill", "#111827");
            yMin.setAttribute("font-size", "10");
            yMin.textContent = "0";
            svg.appendChild(yMin);
            
            // Добавляем значения на оси X
            const xMin = document.createElementNS(svgNS, "text");
            xMin.setAttribute("x", "50");
            xMin.setAttribute("y", "265");
            xMin.setAttribute("text-anchor", "middle");
            xMin.setAttribute("fill", "#111827");
            xMin.setAttribute("font-size", "10");
            xMin.textContent = "1";
            svg.appendChild(xMin);
            
            const xMid = document.createElementNS(svgNS, "text");
            xMid.setAttribute("x", "300");
            xMid.setAttribute("y", "265");
            xMid.setAttribute("text-anchor", "middle");
            xMid.setAttribute("fill", "#111827");
            xMid.setAttribute("font-size", "10");
            xMid.textContent = Math.round(term / 2);
            svg.appendChild(xMid);
            
            const xMax = document.createElementNS(svgNS, "text");
            xMax.setAttribute("x", "550");
            xMax.setAttribute("y", "265");
            xMax.setAttribute("text-anchor", "middle");
            xMax.setAttribute("fill", "#111827");
            xMax.setAttribute("font-size", "10");
            xMax.textContent = term;
            svg.appendChild(xMax);
        }
        
        // Helper function for correct word form in Russian
        function getYearWord(number) {
            const lastDigit = number % 10;
            const lastTwoDigits = number % 100;
            
            if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {
                return 'лет';
            }
            
            if (lastDigit === 1) {
                return 'год';
            }
            
            if (lastDigit >= 2 && lastDigit <= 4) {
                return 'года';
            }
            
            return 'лет';
        }

        // Рассчитать кредит при загрузке страницы
        document.addEventListener('DOMContentLoaded', function() {
            if (document.getElementById('calculate-btn')) {
                document.getElementById('calculate-btn').click();
            }
            
            // Открываем первый аккордеон по умолчанию
            if (document.querySelector('.accordion-header')) {
                document.querySelector('.accordion-header').click();
            }
        });
    </script>
</body>
</html>